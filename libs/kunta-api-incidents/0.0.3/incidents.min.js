(function(){"use strict";function e(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):window.attachEvent&&e.attachEvent("on"+t,n)}function t(){try{return new XMLHttpRequest}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}return null}function n(e,n){var i=t();i.open("get",e,!0),i.setRequestHeader("Content-type","application/json"),i.onreadystatechange=function(){4===i.readyState&&n(200!==i.status?"error":null,JSON.parse(i.responseText))},i.send(null)}function i(e,t){for(var i=[],a=[],c=null,l=0;l<e.length;l++)i.push(function(e,n){e?(c=e,t(e)):a.push(n),c||(i.splice(0,1),0===i.length&&t(null,a))});for(l=0;l<e.length;l++)n(e[l],i[l])}function a(t){var n=document.getElementById("incidents");if(!n){(n=document.createElement("div")).id="incidents";var i=document.createElement("div");i.className="incidents-hide",i.innerHTML="X",i.setAttribute("title","Piilota"),n.appendChild(i),document.body.appendChild(n),e(i,"click",function(){clearInterval(r),n.style.display="none"})}for(var a=document.getElementsByClassName("incident");a.length;)n.removeChild(a[0]);if(t.length){n.style.display="block";for(var c=0;c<t.length;c++){var l=document.createElement("div");if(l.className="incident incident-"+t[c].severity,t[c].title){var d=document.createElement("div");d.className="incident-title",d.innerHTML=t[c].title,l.appendChild(d)}if(t[c].description){var s=document.createElement("div");s.innerHTML=t[c].description,l.appendChild(s)}if(t[c].detailsLink){var o=document.createElement("div"),u=document.createElement("a");u.innerHTML=t[c].detailsLinkText||t[c].detailsLink,u.href=t[c].detailsLink,u.target="_blank",u.className="incident-details-link",o.append(u),l.appendChild(o)}n.appendChild(l)}}else n.style.display="none"}function c(e){i(e,function(e,t){for(var n=[],i=0;i<t.length;i++)n=n.concat(t[i]);e||a(n)})}function l(){var e=document.getElementById("incidents-script");if(e){var t=e.getAttribute("data-urls");if(t){var n=t.split(",");c(n),r=setInterval(function(){try{c(n)}catch(e){}},6e4|parseInt(e.getAttribute("data-interval")))}}}var r;e(window,"load",l)}).call(this);