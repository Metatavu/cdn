(function(){"use strict";var o;function u(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):window.attachEvent&&e.attachEvent("on"+t,n)}function l(e,t){var n=function(){try{return new XMLHttpRequest}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}return null}();n.open("get",e,!0),n.setRequestHeader("Content-type","application/json"),n.onreadystatechange=function(){4===n.readyState&&t(200!==n.status?"error":null,JSON.parse(n.responseText))},n.send(null)}function i(e){!function(e,n){for(var i=[],a=[],c=null,t=0;t<e.length;t++)i.push(function(e,t){e?n(c=e):a.push(t),c||(i.splice(0,1),0===i.length&&n(null,a))});for(t=0;t<e.length;t++)l(e[t],i[t])}(e,function(e,t){for(var n=[],i=0;i<t.length;i++)n=n.concat(t[i]);e||function(e){var t=document.getElementById("incidents");if(!t){(t=document.createElement("div")).id="incidents";var n=document.createElement("div");n.className="incidents-hide",n.innerHTML="X",n.setAttribute("title","Piilota"),t.appendChild(n),document.body.appendChild(t),u(n,"click",function(){clearInterval(o),t.style.display="none"})}for(var i=document.getElementsByClassName("incident");i.length;)t.removeChild(i[0]);if(e.length){t.style.display="block";for(var a=0;a<e.length;a++){var c=document.createElement("div");if(c.className="incident incident-"+e[a].severity,e[a].title){var l=document.createElement("div");l.className="incident-title",l.innerHTML=e[a].title,c.appendChild(l)}if(e[a].description){var r=document.createElement("div");r.innerHTML=e[a].description,c.appendChild(r)}if(e[a].detailsLink){var d=document.createElement("div"),s=document.createElement("a");s.innerHTML=e[a].detailsLinkText||e[a].detailsLink,s.href=e[a].detailsLink,s.target="_blank",s.className="incident-details-link",d.appendChild(s),c.appendChild(d)}t.appendChild(c)}}else t.style.display="none"}(n)})}u(window,"load",function(){var e=document.getElementById("incidents-script");if(e){var t=e.getAttribute("data-urls");if(t){var n=t.split(",");i(n),o=setInterval(function(){try{i(n)}catch(e){}},6e4|parseInt(e.getAttribute("data-interval")))}}})}).call(this);