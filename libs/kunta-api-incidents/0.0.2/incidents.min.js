(function(){"use strict";function t(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):window.attachEvent&&t.attachEvent("on"+e,n)}function e(){try{return new XMLHttpRequest}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}return null}function n(t,n){var i=e();i.open("get",t,!0),i.setRequestHeader("Content-type","application/json"),i.onreadystatechange=function(){4===i.readyState&&n(200!==i.status?"error":null,JSON.parse(i.responseText))},i.send(null)}function i(t,e){for(var i=[],r=[],l=null,a=0;a<t.length;a++)i.push(function(t,n){t?(l=t,e(t)):r.push(n),l||(i.splice(0,1),0===i.length&&e(null,r))});for(var a=0;a<t.length;a++)n(t[a],i[a])}function r(e){var n=document.getElementById("incidents");if(!n){n=document.createElement("div"),n.id="incidents",n.style.position="fixed",n.style.left="0",n.style.right="0",n.style.top="0",n.style.zIndex=99999;var i=document.createElement("div");i.innerHTML="X",i.style.padding="10px",i.style.position="absolute",i.style.right="10px",i.style.color="#fff",i.style.fontSize="16px",i.style.cursor="pointer",i.setAttribute("title","Piilota"),n.appendChild(i),document.body.appendChild(n),t(i,"click",function(){clearInterval(o),n.style.display="none"})}for(var r=document.getElementsByClassName("incident");r.length;)n.removeChild(r[0]);for(var l=0;l<e.length;l++){var a=document.createElement("div");a.style.background="severe"===e[l].severity?"rgba(255, 0, 0, 0.75)":"rgba(255, 128, 0, 0.75)",a.style.textAlign="center",a.style.color="#fff",a.style.padding="5px",a.style.fontSize="16px",a.className="incident",a.innerHTML='<div style="font-size: 16px; font-weight:bold">'+e[l].title+"</div><div>"+e[l].description+"</div>",n.appendChild(a)}}function l(t){i(t,function(t,e){for(var n=[],i=0;i<e.length;i++)n=n.concat(e[i]);t||r(n)})}function a(){var t=document.getElementById("incidents-script");if(t){var e=t.getAttribute("data-urls");if(e){var n=e.split(",");l(n),o=setInterval(function(){try{l(n)}catch(t){}},6e4|parseInt(t.getAttribute("data-interval")))}}}var o;t(window,"load",a)}).call(this);